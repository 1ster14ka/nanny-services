{"version":3,"file":"index.js","sources":["../src/js/firebase.js","../src/js/register.js","../src/js/login.js","../src/js/logout.js","../src/js/header.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getAnalytics } from 'firebase/analytics';\nimport { getAuth } from 'firebase/auth';\nimport { getDatabase } from 'firebase/database';\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAzK_o_weL94TpPE9waNwEDk1_4o9gaJuE',\n  authDomain: 'nanny-services-73a04.firebaseapp.com',\n  projectId: 'nanny-services-73a04',\n  storageBucket: 'nanny-services-73a04.firebasestorage.app',\n  messagingSenderId: '549777202587',\n  appId: '1:549777202587:web:a0bf6de0d554ec7cd3553e',\n  measurementId: 'G-JWTN8C68MZ',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getDatabase(app);\n// const analytics = getAnalytics(app);\n\nexport { auth, db };\n","import { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { db, auth } from './firebase';\nimport { ref, set } from 'firebase/database';\n\nasync function register(name, email, password) {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    const user = userCredential.user;\n    console.log('Register', user);\n\n    await set(ref(db, 'users/' + user.uid), {\n      name,\n      email,\n      uid: user.uid,\n    });\n    await updateProfile(auth.currentUser, {\n      displayName: name,\n    });\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error('Register error:', error.code, error.message);\n  }\n}\n\nexport { register };\n","import { signInWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from './firebase';\n\nasync function login(email, password) {\n  try {\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n\n    const user = userCredential.user;\n    if (user) {\n      console.log('Welcome,', user.email);\n    }\n    console.log('Logged in:', user);\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error('Login error:', error.code, error.message);\n  }\n}\n\nexport { login };\n","import { signOut } from 'firebase/auth';\nimport { auth } from './firebase';\n\nasync function logout() {\n  try {\n    await signOut(auth);\n\n    console.log('logout,');\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error('Logout error:', error.code, error.message);\n  }\n}\n\nexport { logout };\n","import { register } from './register';\nimport { login } from './login';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './firebase';\nimport { logout } from './logout';\n\nconst backdrop = document.querySelector('.backdrop');\nconst btnRegistr = document.querySelector('.btn-register');\nconst btnLogout = document.querySelector('.btn-logout');\n// const btnLogin = document.querySelector('.btn-login');\nconst list = document.querySelector('.registration');\nconst listUser = document.querySelector('.out');\nconst registr = document.querySelector('.registr');\nconst loginForm = document.querySelector('.login');\nconst btnEye = document.querySelectorAll('.toggle-password');\n// const inputPassword = document.querySelector('.input-password');\nconst formLogin = document.querySelector('.form-login');\nconst formRegister = document.querySelector('.form-register');\nconst userName = document.querySelector('.userName');\ndocument.querySelectorAll('.btn-close-modal').forEach(btn => {\n  btn.addEventListener('click', () => {\n    closeModal();\n    // const type = e.currentTarget.dataset.type;\n    // backdrop.classList.remove('is-open');\n    // if (type === 'register') {\n    //   registr.style.display = 'none';\n    // } else {\n    //   login.style.display = 'none';\n    // }\n  });\n});\n\nlist.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  if (e.target === btnRegistr) {\n    registr.style.display = 'block';\n  } else {\n    loginForm.style.display = 'block';\n  }\n  backdrop.classList.add('is-open');\n}\n\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) {\n    closeModal();\n  }\n});\n\nfunction closeModal() {\n  backdrop.classList.remove('is-open');\n  // registr.style.display = 'none';\n  // login.style.display = 'none';\n\n  setTimeout(() => {\n    // console.log('Hello');\n\n    registr.style.display = 'none';\n    loginForm.style.display = 'none';\n  }, 200);\n}\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && backdrop.classList.contains('is-open')) {\n    closeModal();\n  }\n});\n\n// btnEye.addEventListener('click', e => {\n//   const isPassword = inputPassword.type === 'password';\n//   inputPassword.type = isPassword ? 'text' : 'password';\n//   btnEye.classList.toggle('active');\n// });\n\nbtnEye.forEach(btn => {\n  btn.addEventListener('click', () => {\n    const inputPassword = btn\n      .closest('.password-wrapper')\n      .querySelector('.input-password');\n    const isPassword = inputPassword.type === 'password';\n    inputPassword.type = isPassword ? 'text' : 'password';\n    btn.classList.toggle('active');\n  });\n});\n\nformRegister.addEventListener('submit', handleRegister);\n\nfunction handleRegister(e) {\n  e.preventDefault();\n  const name = e.target.elements.userName.value;\n  const email = e.target.elements.email.value;\n  const password = e.target.elements.password.value;\n\n  register(name, email, password);\n\n  // console.log('Login');\n\n  e.currentTarget.reset();\n}\n\nformLogin.addEventListener('submit', handleLogin);\n\nfunction handleLogin(e) {\n  e.preventDefault();\n  const email = e.target.elements.email.value;\n  const password = e.target.elements.password.value;\n  login(email, password);\n  e.currentTarget.reset();\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    console.log('ðŸ‘¤ Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:', user.displayName);\n    userName.textContent = user.displayName;\n    listUser.style.display = 'flex';\n    list.style.display = 'none';\n  } else {\n    listUser.style.display = 'none';\n    list.style.display = 'flex';\n\n    console.log('ðŸ”’ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ñ‹ÑˆÐµÐ»');\n  }\n});\n\nbtnLogout.addEventListener('click', handleClick);\n\nfunction handleClick() {\n  logout();\n}\n"],"names":["firebaseConfig","app","initializeApp","auth","getAuth","db","getDatabase","register","name","email","password","user","createUserWithEmailAndPassword","set","ref","updateProfile","error","login","signInWithEmailAndPassword","logout","signOut","backdrop","btnRegistr","btnLogout","list","listUser","registr","loginForm","btnEye","formLogin","formRegister","userName","btn","closeModal","openModal","inputPassword","isPassword","handleRegister","handleLogin","onAuthStateChanged","handleClick"],"mappings":"qzBAUA,MAAMA,EAAiB,CACrB,OAAQ,0CACR,WAAY,uCACZ,UAAW,uBACX,cAAe,2CACf,kBAAmB,eACnB,MAAO,4CACP,cAAe,cACjB,EAGMC,EAAMC,EAAcF,CAAc,EAClCG,EAAOC,EAAQH,CAAG,EAClBI,EAAKC,EAAYL,CAAG,ECnB1B,eAAeM,EAASC,EAAMC,EAAOC,EAAU,CAC7C,GAAI,CAMF,MAAMC,GALiB,MAAMC,EAC3BT,EACAM,EACAC,CACN,GACgC,KAC5B,QAAQ,IAAI,WAAYC,CAAI,EAE5B,MAAME,EAAIC,EAAIT,EAAI,SAAWM,EAAK,GAAG,EAAG,CACtC,KAAAH,EACA,MAAAC,EACA,IAAKE,EAAK,GAChB,CAAK,EACD,MAAMI,EAAcZ,EAAK,YAAa,CACpC,YAAaK,CACnB,CAAK,CACF,OAAQQ,EAAO,CACIA,EAAM,KACHA,EAAM,QAC3B,QAAQ,MAAM,kBAAmBA,EAAM,KAAMA,EAAM,OAAO,CAC3D,CACH,CCxBA,eAAeC,EAAMR,EAAOC,EAAU,CACpC,GAAI,CAOF,MAAMC,GANiB,MAAMO,EAC3Bf,EACAM,EACAC,CACN,GAEgC,KACxBC,GACF,QAAQ,IAAI,WAAYA,EAAK,KAAK,EAEpC,QAAQ,IAAI,aAAcA,CAAI,CAC/B,OAAQK,EAAO,CACIA,EAAM,KACHA,EAAM,QAC3B,QAAQ,MAAM,eAAgBA,EAAM,KAAMA,EAAM,OAAO,CACxD,CACH,CClBA,eAAeG,GAAS,CACtB,GAAI,CACF,MAAMC,EAAQjB,CAAI,EAElB,QAAQ,IAAI,SAAS,CACtB,OAAQa,EAAO,CACIA,EAAM,KACHA,EAAM,QAC3B,QAAQ,MAAM,gBAAiBA,EAAM,KAAMA,EAAM,OAAO,CACzD,CACH,CCPA,MAAMK,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAW,SAAS,cAAc,MAAM,EACxCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAS,SAAS,iBAAiB,kBAAkB,EAErDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAW,SAAS,cAAc,WAAW,EACnD,SAAS,iBAAiB,kBAAkB,EAAE,QAAQC,GAAO,CAC3DA,EAAI,iBAAiB,QAAS,IAAM,CAClCC,GAQJ,CAAG,CACH,CAAC,EAEDT,EAAK,iBAAiB,QAASU,CAAS,EAExC,SAASA,EAAU,EAAG,CAChB,EAAE,SAAWZ,EACfI,EAAQ,MAAM,QAAU,QAExBC,EAAU,MAAM,QAAU,QAE5BN,EAAS,UAAU,IAAI,SAAS,CAClC,CAEAA,EAAS,iBAAiB,QAAS,GAAK,CAClC,EAAE,SAAWA,GACfY,GAEJ,CAAC,EAED,SAASA,GAAa,CACpBZ,EAAS,UAAU,OAAO,SAAS,EAInC,WAAW,IAAM,CAGfK,EAAQ,MAAM,QAAU,OACxBC,EAAU,MAAM,QAAU,MAC3B,EAAE,GAAG,CACR,CAEA,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAYN,EAAS,UAAU,SAAS,SAAS,GAC7DY,GAEJ,CAAC,EAQDL,EAAO,QAAQI,GAAO,CACpBA,EAAI,iBAAiB,QAAS,IAAM,CAClC,MAAMG,EAAgBH,EACnB,QAAQ,mBAAmB,EAC3B,cAAc,iBAAiB,EAC5BI,EAAaD,EAAc,OAAS,WAC1CA,EAAc,KAAOC,EAAa,OAAS,WAC3CJ,EAAI,UAAU,OAAO,QAAQ,CACjC,CAAG,CACH,CAAC,EAEDF,EAAa,iBAAiB,SAAUO,CAAc,EAEtD,SAASA,EAAe,EAAG,CACzB,EAAE,eAAc,EAChB,MAAM7B,EAAO,EAAE,OAAO,SAAS,SAAS,MAClCC,EAAQ,EAAE,OAAO,SAAS,MAAM,MAChCC,EAAW,EAAE,OAAO,SAAS,SAAS,MAE5CH,EAASC,EAAMC,EAAOC,CAAQ,EAI9B,EAAE,cAAc,OAClB,CAEAmB,EAAU,iBAAiB,SAAUS,CAAW,EAEhD,SAASA,EAAY,EAAG,CACtB,EAAE,eAAc,EAChB,MAAM7B,EAAQ,EAAE,OAAO,SAAS,MAAM,MAChCC,EAAW,EAAE,OAAO,SAAS,SAAS,MAC5CO,EAAMR,EAAOC,CAAQ,EACrB,EAAE,cAAc,OAClB,CAEA6B,EAAmBpC,EAAMQ,GAAQ,CAC3BA,GACF,QAAQ,IAAI,2BAA4BA,EAAK,WAAW,EACxDoB,EAAS,YAAcpB,EAAK,YAC5Bc,EAAS,MAAM,QAAU,OACzBD,EAAK,MAAM,QAAU,SAErBC,EAAS,MAAM,QAAU,OACzBD,EAAK,MAAM,QAAU,OAErB,QAAQ,IAAI,uBAAuB,EAEvC,CAAC,EAEDD,EAAU,iBAAiB,QAASiB,CAAW,EAE/C,SAASA,GAAc,CACrBrB,GACF"}