import{i as y,g as w,a as L,c as b,s as h,r as v,u as E,b as S,d as q,o as A}from"./assets/vendor-DRGBDZF_.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const N={apiKey:"AIzaSyAzK_o_weL94TpPE9waNwEDk1_4o9gaJuE",authDomain:"nanny-services-73a04.firebaseapp.com",projectId:"nanny-services-73a04",storageBucket:"nanny-services-73a04.firebasestorage.app",messagingSenderId:"549777202587",appId:"1:549777202587:web:a0bf6de0d554ec7cd3553e",measurementId:"G-JWTN8C68MZ",databaseURL:"https://nanny-services-73a04-default-rtdb.firebaseio.com"},g=y(N),c=w(g),P=L(g);async function k(e,s,o){try{const t=(await b(c,s,o)).user;console.log("Register",t),await h(v(P,"users/"+t.uid),{name:e,email:s,uid:t.uid}),await E(t,{displayName:e}),await t.reload(),u(t)}catch(r){r.code,r.message,console.error("Register error:",r.code,r.message)}}async function C(e,s){try{const r=(await S(c,e,s)).user;await r.reload(),u(r),console.log("Logged in:",r)}catch(o){o.code,o.message,console.error("Login error:",o.code,o.message)}}async function I(){try{await q(c),console.log("logout,")}catch(e){e.code,e.message,console.error("Logout error:",e.code,e.message)}}const a=document.querySelector(".backdrop"),O=document.querySelector(".btn-register"),R=document.querySelector(".btn-logout"),l=document.querySelector(".registration"),p=document.querySelector(".out"),m=document.querySelector(".registr"),f=document.querySelector(".login"),D=document.querySelectorAll(".toggle-password"),T=document.querySelector(".form-login"),U=document.querySelector(".form-register"),x=document.querySelector(".userName");document.querySelectorAll(".btn-close-modal").forEach(e=>{e.addEventListener("click",()=>{d()})});l.addEventListener("click",M);function M(e){e.target===O?m.style.display="block":f.style.display="block",a.classList.add("is-open")}a.addEventListener("click",e=>{e.target===a&&d()});function d(){a.classList.remove("is-open"),setTimeout(()=>{m.style.display="none",f.style.display="none"},200)}document.addEventListener("keydown",e=>{e.key==="Escape"&&a.classList.contains("is-open")&&d()});D.forEach(e=>{e.addEventListener("click",()=>{const s=e.closest(".password-wrapper").querySelector(".input-password"),o=s.type==="password";s.type=o?"text":"password",e.classList.toggle("active")})});U.addEventListener("submit",z);function z(e){e.preventDefault();const s=e.target.elements.userName.value,o=e.target.elements.email.value,r=e.target.elements.password.value;k(s,o,r),e.currentTarget.reset()}T.addEventListener("submit",K);function K(e){e.preventDefault();const s=e.target.elements.email.value,o=e.target.elements.password.value;C(s,o),e.currentTarget.reset()}A(c,e=>{e?(console.log("ðŸ‘¤ Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:",e.displayName),u(e)):(p.style.display="none",l.style.display="flex",console.log("ðŸ”’ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ñ‹ÑˆÐµÐ»"))});R.addEventListener("click",W);function W(){I()}function u(e){e&&(x.textContent=e.displayName||"Anonim",p.style.display="flex",l.style.display="none")}
//# sourceMappingURL=index.js.map
