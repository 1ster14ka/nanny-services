import{i as y,g as f,a as w,c as L,s as h,r as v,u as b,b as E,d as S,o as q}from"./assets/vendor-DRGBDZF_.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const N={apiKey:"AIzaSyAzK_o_weL94TpPE9waNwEDk1_4o9gaJuE",authDomain:"nanny-services-73a04.firebaseapp.com",projectId:"nanny-services-73a04",storageBucket:"nanny-services-73a04.firebasestorage.app",messagingSenderId:"549777202587",appId:"1:549777202587:web:a0bf6de0d554ec7cd3553e",measurementId:"G-JWTN8C68MZ"},g=y(N),a=f(g),A=w(g);async function P(e,s,o){try{const t=(await L(a,s,o)).user;console.log("Register",t),await h(v(A,"users/"+t.uid),{name:e,email:s,uid:t.uid}),await b(a.currentUser,{displayName:e})}catch(r){r.code,r.message,console.error("Register error:",r.code,r.message)}}async function k(e,s){try{const r=(await E(a,e,s)).user;r&&console.log("Welcome,",r.email),console.log("Logged in:",r)}catch(o){o.code,o.message,console.error("Login error:",o.code,o.message)}}async function C(){try{await S(a),console.log("logout,")}catch(e){e.code,e.message,console.error("Logout error:",e.code,e.message)}}const c=document.querySelector(".backdrop"),I=document.querySelector(".btn-register"),O=document.querySelector(".btn-logout"),l=document.querySelector(".registration"),u=document.querySelector(".out"),m=document.querySelector(".registr"),p=document.querySelector(".login"),D=document.querySelectorAll(".toggle-password"),R=document.querySelector(".form-login"),T=document.querySelector(".form-register"),x=document.querySelector(".userName");document.querySelectorAll(".btn-close-modal").forEach(e=>{e.addEventListener("click",()=>{d()})});l.addEventListener("click",M);function M(e){e.target===I?m.style.display="block":p.style.display="block",c.classList.add("is-open")}c.addEventListener("click",e=>{e.target===c&&d()});function d(){c.classList.remove("is-open"),setTimeout(()=>{m.style.display="none",p.style.display="none"},200)}document.addEventListener("keydown",e=>{e.key==="Escape"&&c.classList.contains("is-open")&&d()});D.forEach(e=>{e.addEventListener("click",()=>{const s=e.closest(".password-wrapper").querySelector(".input-password"),o=s.type==="password";s.type=o?"text":"password",e.classList.toggle("active")})});T.addEventListener("submit",W);function W(e){e.preventDefault();const s=e.target.elements.userName.value,o=e.target.elements.email.value,r=e.target.elements.password.value;P(s,o,r),e.currentTarget.reset()}R.addEventListener("submit",z);function z(e){e.preventDefault();const s=e.target.elements.email.value,o=e.target.elements.password.value;k(s,o),e.currentTarget.reset()}q(a,e=>{e?(console.log("ðŸ‘¤ Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:",e.displayName),x.textContent=e.displayName,u.style.display="flex",l.style.display="none"):(u.style.display="none",l.style.display="flex",console.log("ðŸ”’ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ñ‹ÑˆÐµÐ»"))});O.addEventListener("click",K);function K(){C()}
//# sourceMappingURL=index.js.map
